<html>

<head>
  <link data-trunk rel="rust" />
  <link data-trunk rel="icon" href="favicon.ico" />

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Stepsampler 0.1.0</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>
  <div id="danger-alert" class="alert alert-danger text-center mb-0 position-fixed top-0 start-0 w-100" role="alert" style="z-index: 2000; border-radius: 0; display: none;">
    An error occurred while processing the files. Make sure those are valid WAV files.
  </div>
  <div id="info-alert" class="alert alert-info text-center mb-0 position-fixed top-0 start-0 w-100" role="alert" style="z-index: 2000; border-radius: 0; display: none;">
    Your download should start now.
  </div>
  <div style="height: 56px;"></div>
  <div class="container mt-5">
    <div class="row">

      <div class="col-md-8">
        <h2>What is this app about?</h2>
        <p>
          This is Stepsampler: it creates a sample by joining together several evenly lengthened samples.
        </p>
        <p>
          This approach, often used in hardware samplers, allows many sounds to be packed
          into one slot and triggered through chopping/slicing functionality - they offer
          evenly sized grid playback, so no manual chopping is needed. The program was
          designed with the Roland P-6 in mind, where such percussion sample packs are
          especially useful - for example, fitting dozens of hi-hats onto a single pad to
          free up space for actual music projects.
        </p>
        <p>
          This app requires WASM support in your browser.
        </p>
        <ol>
          <li>Drop several WAV samples onto the page.</li>
          <li>The app will truncate silence at the beginning and end of the samples,</li>
          <li>normalize the volume,</li>
          <li>convert according to your settings (default: 44.1kHz 16-bit mono),</li>
          <li>append silence so each sample has the same length,</li>
          <li>and concatenate them into a single sample.</li>
        </ol>
        </ol>
      </div>

      <div class="col-md-4">
        <div class="card text-center shadow-sm"
          style="border: 2px dashed #6c757d; min-height: 250px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <div class="mb-3" style="width:100%;">
              <span class="fs-4 text-secondary"><i class="bi bi-upload"></i></span>
              <p class="mb-2 text-secondary">Drop WAV samples at the page</p>

            </div>
            <div class="mb-3" style="width:100%; text-align: left;">
              <label for="out-rate" class="form-label small">Output Sampling Rate (Hz):</label>
              <input type="number" class="form-control form-control-sm" id="out-rate" value="44100" min="8000" max="192000" step="1000">
            </div>
            <div class="mb-3" style="width:100%; text-align: left;">
              <label for="silence-threshold" class="form-label small">Silence Threshold:</label>
              <input type="number" class="form-control form-control-sm" id="silence-threshold" value="0.005" min="0.0001" max="1.0" step="0.0001">
            </div>
            <div class="mb-3" style="width:100%; text-align: left;">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="stereo">
                <label class="form-check-label small" for="stereo">
                  Stereo output
                </label>
              </div>
            </div>
            <button id="start-button" type="button" class="btn btn-primary w-100" disabled="true" onclick="processFiles()">Start</button>
            <p id="num-files-selected" class="small text-muted mt-3">No files selected</p>
          </div>
        </div>
      </div>
      <footer class="position-fixed bottom-0 start-0 w-100 py-2 bg-white" style="z-index:1030;">
        <div class="container text-center">
          <small class="text-muted">
            @fominok<span
              style="display:inline-block; vertical-align:middle; width:1px; height:1em; background:#adb5bd; margin:0 0.5em;"></span>
            <a href="https://github.com/fominok/stepsampler" target="_blank" rel="noopener">Source</a>
          </small>
        </div>
      </footer>
    </div>
  </div>

  <script data-trunk src="main.js"></script>
</body>


</html>
